# Materialize SQL parser

This parser is a fork of <https://github.com/andygrove/sqlparser-rs>, with
some additional patches from <http://github.com/nickolay/sqlparser-rs>.

At the time the parser was originally forked (March 2019), there was no modular
means by which its SQL syntax could be extended. This is particularly
unfortunate because the parser is under active upstream development, and we'd
like to periodically incorporate as much of their work as possible.

When hacking on this repository, please try to minimize the divergence from
upstream, e.g. by limiting unnecessary refactoring, so that upstream patches can
be easily incorporated.

At some point, if the parsers diverge enough, it may be worth jettisoning
compatibility with upstream so that we can perform large-scale refactors, but we
should make such a decision deliberately, not accidentally.

## Design

*These design notes were copied from upstream.*

The parser is implemented using the [Pratt Parser](https://tdop.github.io/)
design, which is a top-down operator-precedence parser.

This approach has the following benefits over parser generators:

- Code is simple to write and can be concise and elegant
- Performance is generally better than code generated by parser generators
- Debugging is much easier with hand-written code
- It is far easier to extend and make dialect-specific extensions compared to using a parser generator
